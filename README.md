Ссылка на репозиторий:  https://github.com/VladislavBeres/web-larek-frontend

# Проектная работа "Веб-ларек"

Интернет-магазин с товарами для веб-разработчиков. Позволяет просматривать каталог, добавлять товары в корзину и оформлять заказ.

Для данной проектной работы я выбираю архетиктуру "MVP" 

(Model-View-Presenter) — архитектурный паттерн в программировании, который разделяет приложение на три компонента: модель, представление и презентер. Основная идея — разделить ответственности между компонентами так, чтобы изменения в одном компоненте не влияли на другие. Это делает код более поддерживаемым и позволяет легче тестировать компоненты независимо друг от друга.

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
<!-- Работа с API (api.ts) -->

Класс: Api

В проекте используется универсальный класс Api для выполнения HTTP-запросов к серверу. Он инкапсулирует методы GET, POST, PUT, DELETE с единым обработчиком ошибок.

Методы:

  constructor(baseUrl: string, options?: RequestInit) - Устанавливает базовый URL и заголовки

  get(uri: string) - Выполняет GET-запрос по заданному URI

  post(uri: string, data: object, method = 'POST') - Выполняет POST, PUT или DELETE-запрос с телом

  handleResponse(response: Response) - Обрабатывает JSON-ответ или ошибку

## ApiListResponse<Type> — обёртка для списка с total и items

## ApiPostMethods — поддерживаемые HTTP-методы: 'POST', 'PUT', 'DELETE'

<!-- Работа с событиями (events.ts) -->

Класс: EventEmitter

Брокер событий. В расширенных вариантах есть возможность подписаться на все события
или слушать события по шаблону например

## Методы:

  on - Установает обработчик на событие

  off - Снимает обработчик с события

  emit - Иницилизирует событие с данными

  onAll - Слушает все события

  offAll - Сбрасывает все обработчики

  trigger - Создает коллбек триггер, генерирующий событие при вызове

<!-- Работа с компонентами -->

Класс: Component

Базовый абстрактный класс, от которого можно наследовать карточки, модальные окна, элементы корзины и т.д.

## Поля:

  element - DOM-элемент компонента (основа, которую можно вставить в DOM).

  props - Объект с данными, переданными в компонент.


## Методы:

  constructor(template, props) - Инициализация компонента: клонируется шаблон, сохраняются props.

  render() - Метод для отображения контента (может быть абстрактным в базовом классе).

  setEventListeners() - Навешивает обработчики событий (должен быть реализован в дочернем классе).

<!-- работа с корзиной -->

Класс: CartModel

Модель данных для корзины.

## Поля:

  items - Массив товаров, добавленных в корзину. Каждый товар содержит id, имя, цену и количество.

## Методы:

  addItem(product) - Добавляет товар в корзину. Если товар уже есть — увеличивает его количество.

  removeItem(productId) - Удаляет товар из корзины по ID.

  clear() - Очищает корзину.

  getItems() - Возвращает все товары в корзине.

  getTotalPrice() - Возвращает суммарную стоимость всех товаров.

  hasItem(id) - Проверяет, добавлен ли товар в корзину.

<!-- Создание DOM-элементов -->

cloneTemplate(templateSelector)

cloneTemplate — вспомогательная функция, которая упрощает создание DOM-элементов из HTML-шаблонов "template". Используется для отрисовки карточек товаров, элементов корзины, модальных окон и т.д.

Пример: function cloneTemplate(templateSelector: string): HTMLElement;

Аргументы:
 • templateSelector — CSS-селектор элемента "template" в DOM.

 Пример: const cardElement = cloneTemplate('#product-card-template');

Возвращает:
 • Клонированный элемент HTMLElement, который можно вставить в DOM.

 <!-- constants.js -->

 constants.js содержит неизменяемые значения, используемые в разных модулях: селекторы шаблонов, способы оплаты, сообщения об ошибках.

 ## Константы: 
  TEMPLATE_SELECTORS - Селеторы шаблонорв для cloneTemplate()
  PAYMENT_METHODS - Поддерживаемы способ оплаты (Онлайн или при получении)
  ERROR_MESSAGES- Сообщения об шибках для FormValidator

 <!-- Работа с модальными окнами -->

 Класс: Modal

 Компонент Modal отображает всплывающее окно с произвольным контентом: информацией о товаре, корзиной или шагами оформления заказа. Управляет отображением, закрытием и удалением модалки из DOM.

 ## Поля:  

  protected modalElement: HTMLElement - элемент модального окна

  protected closeButton: HTMLElement - кнопка зыкрытия модального окна

 ## Методы: 

  render(content: HTMLElement) - Создаёт разметку и вставляет контент внутрь модалки.

  open(content: HTMLElement) - Открывает модалку с переданным DOM-элементом.

  close() - Закрывает модалку и удаляет её из DOM.

  setEventListeners() - Назначает обработчики закрытия: крестик, фон.

<!-- Валидация форм -->

 Класс: FormValidator

FormValidator проверяет валидность полей формы:
 • адрес доставки
 • email
 • номер телефона
 • способ оплаты (если через select или radio)

Оповещает пользователя об ошибках до отправки формы.

 ## Методы: 

  validateField(input: HTMLInputElement) - Проверка отдельного поля.

  validateForm() - Проверка всей формы — возвращает true/false.

  showError(input, message) - Показывает сообщение об ошибке.

  clearErrors() - Очищает все ошибки в форме.

  <!--  -->

  Класс: ProductCard

  Визуальное представление одного товара. Наследуется от Component. Включает:
 • картинку
 • название
 • цену
 • кнопку «Купить» / «Убрать»

 ## Методы:

  render() - Рендерит карточку: заголовок, цена, кнопка.

  setEventListeners() - Навешивает обработчики: открытие модалки, покупка.

  toggleInCart(inCart: boolean) - Обновляет состояние кнопки (куплено/удалено).